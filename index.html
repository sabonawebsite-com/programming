<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exit Exam</title>
    <link rel="stylesheet" href="css/style.css">
    <style>
        .subject-dropdown {
            margin-bottom: 15px;
        }

        .subject-dropdown label {
            font-weight: bold;
            margin-right: 10px;
        }

        .subject-dropdown select {
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-size: 16px;
        }

        .expired {
            color: red; /* Example styling for expired timer */
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="quiz-container">
        <h1 id="timer"></h1>
        <h1>Exit Exam Ethiopia✅</h1>
    <h2>Test your knowledge</h2>
        <img class="icon" src="esaa.jpg" alt="">

        <div class="subject-dropdown">
            <label for="subject-select">Select a Subject:</label>
            <select id="subject-select" onchange="navigateToSubject()">
                <option value="">-- Choose a subject --</option>
                <option value="compro.html">Computer programming</option>
                <option value="model.html">Models</option>
                <option value="op.html">Go OS➡️</option>
                <option value="web.html">WEB</option>
                <option value="data.html">data commincutions</option>
                <option value="database.html">Database</option>
                <option value="network.html">network Admin</option>
                <option value="algo.html">Algorithm</option>
                <option value="esaa.html">esaa</option>
                <option value="esaa1.html">esaa1</option>
                <option value="esaa2.html">esaa2</option>
                <option value="esaa3.html">esaa3</option>
                <option value="esaa4.html">esaa4</option>
                <option value="esaa5.html">esaa5</option>
                <option value="esaa6.html">esaa6</option>
                <option value="esaa7.html">esaa7</option>
                <option value="esaa8.html">esaa8</option>
                <option value="esaa9.html">esaa9</option>
                <option value="esaa10.html">esaa10</option>
                <option value="esaa11.html">esaa11</option>
            </select>
        </div>

        <div id="question-container" class="question">
        </div>
        <div id="options-container" class="options-container">
        </div>
        <div class="controls-container">
            <button id="back-button">⬅️</button>
            <button id="next-button">➡️</button>
        </div>

        <div id="results-container">
        </div>

        <button id="restart-button" style="display: none;">Restart Quiz</button>
        <hr>
        <h3>2025 &copy; All Right reseved By Sabona Marara✅</h3>
    </div>

    <script>
        function navigateToSubject() {
            const selectElement = document.getElementById("subject-select");
            const selectedValue = selectElement.value;
            if (selectedValue) {
                window.location.href = selectedValue;
            }
        }

        const questionContainer = document.getElementById('question-container');
        const optionsContainer = document.getElementById('options-container');
        const nextButton = document.getElementById('next-button');
        const backButton = document.getElementById('back-button'); // Get the back button
        const resultsContainer = document.getElementById('results-container');
        const restartButton = document.getElementById('restart-button');

        let currentQuestionIndex = 0;
        let score = 0;
        let answeredQuestions = []; // To store if a question has been answered
        let questions = [ // Define your questions array here
        {
            question: "Which JavaScript method is used to add an event listener to an element?",
            options: ["attachEvent()", "listenEvent()", "addEventListener()", "onEvent()"],
            answer: "addEventListener()"
          },
          {
            question: "What is exception handling in JavaScript?",
            options: ["A way to style web pages", "A mechanism to deal with errors during program execution", "A method for defining functions", "A technique for optimizing code"],
            answer: "A mechanism to deal with errors during program execution"
          },
          {
            question: "Which JavaScript statement is used to handle exceptions?",
            options: ["if...else", "for loop", "try...catch", "switch"],
            answer: "try...catch"
          },
          {
            question: "What is the JavaScript BOM (Browser Object Model)?",
            options: ["A way to style web pages", "An interface for interacting with the browser window", "A method for defining HTML structure", "A server-side technology"],
            answer: "An interface for interacting with the browser window"
          },
          {
            question: "Which JavaScript object represents the browser's history?",
            options: ["window", "document", "location", "history"],
            answer: "history"
          },
          {
            question: "What is the purpose of JavaScript cookies?",
            options: ["Styling web pages", "Storing small amounts of data on the user's computer", "Defining HTML structure", "Handling server-side requests"],
            answer: "Storing small amounts of data on the user's computer"
          },
          {
            question: "What are PHP sessions used for?",
            options: ["Storing data on the client-side", "Maintaining user state across multiple page requests", "Defining the layout of a web page", "Handling database queries"],
            answer: "Maintaining user state across multiple page requests"
          },
          {
            question: "Which PHP superglobal variable is used to access session data?",
            options: ["$_COOKIE", "$_GET", "$_POST", "$_SESSION"],
            answer: "$_SESSION"
          },
          {
            question: "What is MySQL?",
            options: ["A server-side scripting language", "A front-end framework", "A relational database management system", "A JavaScript library"],
            answer: "A relational database management system"
          },
          {
            question: "Which SQL command is used to insert new data into a database table?",
            options: ["SELECT", "UPDATE", "DELETE", "INSERT"],
            answer: "INSERT"
          },
          {
            question: "In PHP, which function is used to connect to a MySQL database?",
            options: ["connect_db()", "mysql_connect()", "mysqli_connect()", "db_connect()"],
            answer: "mysqli_connect()"
          },
          {
            question: "Which PHP function is used to execute a SQL query?",
            options: ["execute_query()", "run_sql()", "mysqli_query()", "query()"],
            answer: "mysqli_query()"
          },
          {
            question: "What is the purpose of PHP file handling functions?",
            options: ["To style web pages", "To read from and write to files on the server", "To define HTML structure", "To handle database connections"],
            answer: "To read from and write to files on the server"
          },
          {
            question: "Which PHP function is used to open a file?",
            options: ["file_open()", "open_file()", "fopen()", "open()"],
            answer: "fopen()"
          },
          {
            question: "What is OOP in PHP?",
            options: ["A way to style web pages", "Object-Oriented Programming", "A method for defining functions", "A technique for optimizing code"],
            answer: "Object-Oriented Programming"
          },
          {
            question: "In OOP, what is a class?",
            options: ["An instance of an object", "A blueprint for creating objects", "A type of variable", "A way to define functions"],
            answer: "A blueprint for creating objects"
          },
          {
            question: "What is an object in OOP?",
            options: ["A blueprint for creating classes", "An instance of a class", "A type of variable", "A way to define functions"],
            answer: "An instance of a class"
          },
          {
            question: "What is inheritance in OOP?",
            options: ["The ability of a class to inherit properties and methods from another class", "The process of creating objects", "A way to define functions", "A technique for optimizing code"],
            answer: "The ability of a class to inherit properties and methods from another class"
          },
          {
            question: "Which HTTP method is commonly used to retrieve data from a server?",
            options: ["POST", "PUT", "DELETE", "GET"],
            answer: "GET"
          },
          {
            question: "Which HTTP method is commonly used to submit data to a server?",
            options: ["GET", "PUT", "DELETE", "POST"],
            answer: "POST"
          },
            // Add more questions as needed
        ];

        function loadQuestion() {
            const currentQuestion = questions[currentQuestionIndex];
            questionContainer.textContent = `${currentQuestionIndex + 1}. ${currentQuestion.question}`;
            optionsContainer.innerHTML = '';

            currentQuestion.options.forEach(option => {
                const button = document.createElement('button');
                button.textContent = option;
                button.classList.add('option');
                button.addEventListener('click', () => checkAnswer(option));

                // If the question was previously answered, restore the state
                if (answeredQuestions[currentQuestionIndex]) {
                    const previousAnswer = answeredQuestions[currentQuestionIndex].selectedOption;
                    const correctAnswer = currentQuestion.answer;

                    button.disabled = true;
                    if (button.textContent === correctAnswer) {
                        button.classList.add('correct');
                    }
                    if (button.textContent === previousAnswer && previousAnswer !== correctAnswer) {
                        button.classList.add('incorrect');
                    }
                }

                optionsContainer.appendChild(button);
            });

            // Show/hide back button
            backButton.style.display = currentQuestionIndex > 0 ? 'block' : 'none';
            nextButton.style.display = answeredQuestions[currentQuestionIndex] ? 'block' : 'none';
        }

        function checkAnswer(selectedOption) {
            const currentQuestion = questions[currentQuestionIndex];
            const options = document.querySelectorAll('.option');

            options.forEach(button => {
                if (button.textContent === currentQuestion.answer) {
                    button.classList.add('correct');
                }
                if (button.textContent === selectedOption && selectedOption !== currentQuestion.answer) {
                    button.classList.add('incorrect');
                }
                button.disabled = true;
            });

            if (selectedOption === currentQuestion.answer) {
                score++;
            }

            answeredQuestions[currentQuestionIndex] = {
                questionIndex: currentQuestionIndex,
                selectedOption: selectedOption,
                correct: selectedOption === currentQuestion.answer
            };

            if (currentQuestionIndex < questions.length - 1) {
                nextButton.style.display = 'block';
            } else {
                showResults();
            }
        }

        function nextQuestion() {
            currentQuestionIndex++;
            loadQuestion();
        }

        function previousQuestion() {
            currentQuestionIndex--;
            loadQuestion();
        }

        function showResults() {
            questionContainer.style.display = 'none';
            optionsContainer.style.display = 'none';
            nextButton.style.display = 'none';
            backButton.style.display = 'none';
            resultsContainer.innerHTML = `<h2>Quiz Completed!</h2><p>Your final score is: ${score} out of ${questions.length}</p>`;
            resultsContainer.style.display = 'block';
            restartButton.style.display = 'block';
        }

        function restartQuiz() {
            currentQuestionIndex = 0;
            score = 0;
            answeredQuestions = []; // Reset answered questions
            questionContainer.style.display = 'block';
            optionsContainer.style.display = 'grid';
            resultsContainer.style.display = 'none';
            restartButton.style.display = 'none';
            loadQuestion();
        }

        nextButton.addEventListener('click', nextQuestion);
        backButton.addEventListener('click', previousQuestion); // Add event listener for back button
        restartButton.addEventListener('click', restartQuiz);

        // Initial load
        loadQuestion();

        // Timer functionality
        var countDownDate = new Date("June 07, 2025 20:50:59").getTime();

        // Update the countdown every 1 second
        var x = setInterval(function() {

            // Get today's date and time
            var now = new Date().getTime();

            // Find the distance between now and the countdown date
            var distance = countDownDate - now;

            // Time calculations for days, hours, minutes, and seconds
            var days = Math.floor(distance / (1000 * 60 * 60 * 24));
            var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            var seconds = Math.floor((distance % (1000 * 60)) / 1000);

            // Display the result in the element with id="timer"
            document.getElementById("timer").innerHTML = days + " days left: " + hours + "h: "
            + minutes + "m: " + seconds + "s ";

            // If the countdown is over, write some text
            if (distance < 0) {
                clearInterval(x);
                document.getElementById("timer").innerHTML = "EXPIRED";
                document.getElementById("timer").classList.add("expired");
            }
        }, 1000);
    </script>
</body>
</html>